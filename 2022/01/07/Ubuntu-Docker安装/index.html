<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ubuntu Docker 安装 | Life is like a box of chocolate</title><meta name="keywords" content="docker"><meta name="author" content="b0ysen"><meta name="copyright" content="b0ysen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第1步 - 安装Docker官方Ubuntu存储库中提供的Docker安装包，但是可能不是最新的版本。为了确保我们获得最新版本，我们将从官方Docker存储库安装Docker。为此，我们将添加一个新的资源包，从Docker添加GPG密钥以确保下载有效，然后安装该包。 首先，更新现有的包列表： 1sudo apt update  接下来，使用apt安装一些允许通过HTTPS才能使用的软件包： 1su">
<meta property="og:type" content="article">
<meta property="og:title" content="Ubuntu Docker 安装">
<meta property="og:url" content="http://example.com/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/index.html">
<meta property="og:site_name" content="Life is like a box of chocolate">
<meta property="og:description" content="第1步 - 安装Docker官方Ubuntu存储库中提供的Docker安装包，但是可能不是最新的版本。为了确保我们获得最新版本，我们将从官方Docker存储库安装Docker。为此，我们将添加一个新的资源包，从Docker添加GPG密钥以确保下载有效，然后安装该包。 首先，更新现有的包列表： 1sudo apt update  接下来，使用apt安装一些允许通过HTTPS才能使用的软件包： 1su">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/4.jpg">
<meta property="article:published_time" content="2022-01-07T03:18:41.000Z">
<meta property="article:modified_time" content="2022-05-02T12:18:50.494Z">
<meta property="article:author" content="b0ysen">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/4.jpg"><link rel="shortcut icon" href="/img/friend_404.gif"><link rel="canonical" href="http://example.com/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":150},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Ubuntu Docker 安装',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-02 20:18:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-clock/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/003.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa fa-camera-retro"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/Message/"><i class="fa-fw fas fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/4.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Life is like a box of chocolate</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa fa-camera-retro"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/Message/"><i class="fa-fw fas fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Ubuntu Docker 安装</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-07T03:18:41.000Z" title="发表于 2022-01-07 11:18:41">2022-01-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-02T12:18:50.494Z" title="更新于 2022-05-02 20:18:50">2022-05-02</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Ubuntu Docker 安装"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="第1步-安装Docker"><a href="#第1步-安装Docker" class="headerlink" title="第1步 - 安装Docker"></a><strong>第1步 - 安装Docker</strong></h2><p>官方Ubuntu存储库中提供的Docker安装包，但是可能不是最新的版本。为了确保我们获得最新版本，我们将从官方Docker存储库安装Docker。为此，我们将添加一个新的资源包，从Docker添加GPG密钥以确保下载有效，然后安装该包。</p>
<p>首先，更新现有的包列表：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<p>接下来，使用<code>apt</code>安装一些允许通过HTTPS才能使用的软件包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install apt-transport-https ca-certificates curl software-properties-common</span><br></pre></td></tr></table></figure>

<p>然后将官方Docker存储库的GPG密钥添加到您的系统：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>将Docker存储库添加到APT源：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable&quot;</span><br></pre></td></tr></table></figure>

<p>接下来，使用新添加的repo源中的Docker包更新包数据库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<p>确保您要从Docker repo安装而不是默认的Ubuntu repo：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache policy docker-ce</span><br></pre></td></tr></table></figure>

<p>虽然Docker的版本号可能不同，但您还是会看到这样的输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker-ce:</span><br><span class="line">  Installed: (none)</span><br><span class="line">  Candidate: 18.03.1~ce~3-0~ubuntu</span><br><span class="line">  Version table:</span><br><span class="line">     18.03.1~ce~3-0~ubuntu 500</span><br><span class="line">        500 https://download.docker.com/linux/ubuntu bionic/stable amd64 Packages</span><br></pre></td></tr></table></figure>

<p>现在<code>docker-ce</code>还没有安装，用上面这个命令我们能看到安装源来自的Docker官方存储库。</p>
<p>最后，安装Docker：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker-ce</span><br></pre></td></tr></table></figure>

<p>现在应该安装好Docker了，检查它是否正在运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status docker</span><br></pre></td></tr></table></figure>

<p>输出应类似于以下内容，表明该服务处于工作状态：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">● docker.service - Docker Application Container Engine</span><br><span class="line">   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)</span><br><span class="line">   Active: active (running) since Thu 2018-07-05 15:08:39 UTC; 2min 55s ago</span><br><span class="line">     Docs: https://docs.docker.com</span><br><span class="line"> Main PID: 10096 (dockerd)</span><br><span class="line">    Tasks: 16</span><br><span class="line">   CGroup: /system.slice/docker.service</span><br><span class="line">           ├─10096 /usr/bin/dockerd -H fd://</span><br><span class="line">           └─10113 docker-containerd --config /var/run/docker/containerd/containerd.toml</span><br></pre></td></tr></table></figure>

<p>Docker不仅可以为您提供Docker服务，还可以为您提供docker<a target="_blank" rel="noopener" href="https://cloud.tencent.com/product/cli?from=10680">命令行工具</a>或Docker客户端。我们将在本教程后面探讨如何使用docker命令。</p>
<h2 id="第2步-在不输入Sudo情况下执行Docker（可选）"><a href="#第2步-在不输入Sudo情况下执行Docker（可选）" class="headerlink" title="第2步 - 在不输入Sudo情况下执行Docker（可选）"></a><strong>第2步 - 在不输入Sudo情况下执行Docker（可选）</strong></h2><p>默认情况下，该<code>docker</code>命令只能由<strong>root</strong>用户或<strong>docker</strong>组中的用户运行，该用户在Docker的安装过程中自动创建。如果您尝试运行该<code>docker</code>命令而不使用<code>sudo</code>或不在<strong>docker</strong>组中中用户运行，您将看到如下输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker: Cannot connect to the Docker daemon. Is the docker daemon running on this host?.</span><br><span class="line">See &#x27;docker run --help&#x27;.</span><br></pre></td></tr></table></figure>

<p>要想在在运行<code>docker</code>命令时不输入<code>sudo</code>，请将用户名添加到<code>docker</code>组中：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker USER</span><br></pre></td></tr></table></figure>

<p>要应用新的组成员身份，请注销服务器并重新登录，或输入以下内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - USER</span><br></pre></td></tr></table></figure>

<p>系统将提示您输入用户密码以继续。</p>
<p>通过输入以下内容确认您的用户现已添加到<strong>docker</strong>组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id -nG</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sammy sudo docker</span><br></pre></td></tr></table></figure>

<p>如果您需要将用户添加到您未登录的<code>docker</code>组中，请使用以下方式明确声明该用户名：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker username</span><br></pre></td></tr></table></figure>

<p> 本文的其余部分假定您以<strong>docker</strong>组中的用户身份运行该<code>docker</code>命令。如果您不是这样做，请在前面添加<code>sudo</code>命令。</p>
<h2 id="第3步-使用Docker命令"><a href="#第3步-使用Docker命令" class="headerlink" title="第3步 - 使用Docker命令"></a><strong>第3步 - 使用Docker命令</strong></h2><p>命令使用包括传递一系列<code>docker</code>选项和命令，后跟参数。语法采用以下形式：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker [option] [command] [arguments]</span><br></pre></td></tr></table></figure>

<p>要查看所有可用的子命令，请输入：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker </span><br></pre></td></tr></table></figure>

<p>可用子命令的完整列表包括：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">attach      Attach local standard input, output, and error streams to a running container</span><br><span class="line">build       Build an image from a Dockerfile</span><br><span class="line">commit      Create a new image from a container&#x27;s changes</span><br><span class="line">cp          Copy files/folders between a container and the local filesystem</span><br><span class="line">create      Create a new container</span><br><span class="line">diff        Inspect changes to files or directories on a container&#x27;s filesystem</span><br><span class="line">events      Get real time events from the server</span><br><span class="line">exec        Run a command in a running container</span><br><span class="line">export      Export a container&#x27;s filesystem as a tar archive</span><br><span class="line">history     Show the history of an image</span><br><span class="line">images      List images</span><br><span class="line">import      Import the contents from a tarball to create a filesystem image</span><br><span class="line">info        Display system-wide information</span><br><span class="line">inspect     Return low-level information on Docker objects</span><br><span class="line">kill        Kill one or more running containers</span><br><span class="line">load        Load an image from a tar archive or STDIN</span><br><span class="line">login       Log in to a Docker registry</span><br><span class="line">logout      Log out from a Docker registry</span><br><span class="line">logs        Fetch the logs of a container</span><br><span class="line">pause       Pause all processes within one or more containers</span><br><span class="line">port        List port mappings or a specific mapping for the container</span><br><span class="line">ps          List containers</span><br><span class="line">pull        Pull an image or a repository from a registry</span><br><span class="line">push        Push an image or a repository to a registry</span><br><span class="line">rename      Rename a container</span><br><span class="line">restart     Restart one or more containers</span><br><span class="line">rm          Remove one or more containers</span><br><span class="line">rmi         Remove one or more images</span><br><span class="line">run         Run a command in a new container</span><br><span class="line">save        Save one or more images to a tar archive (streamed to STDOUT by default)</span><br><span class="line">search      Search the Docker Hub for images</span><br><span class="line">start       Start one or more stopped containers</span><br><span class="line">stats       Display a live stream of container(s) resource usage statistics</span><br><span class="line">stop        Stop one or more running containers</span><br><span class="line">tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span><br><span class="line">top         Display the running processes of a container</span><br><span class="line">unpause     Unpause all processes within one or more containers</span><br><span class="line">update      Update configuration of one or more containers</span><br><span class="line">version     Show the Docker version information</span><br><span class="line">wait        Block until one or more containers stop, then print their exit codes</span><br></pre></td></tr></table></figure>

<p> 要查看特定命令，请输入：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker docker-subcommand --help</span><br></pre></td></tr></table></figure>

<p>要查看有关Docker的系统信息，请使用：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure>

<p> 让我们探讨其中的一些命令。我们将从处理镜像开始。</p>
<h2 id="第4步-使用Docker镜像"><a href="#第4步-使用Docker镜像" class="headerlink" title="第4步 - 使用Docker镜像"></a><strong>第4步 - 使用Docker镜像</strong></h2><p>Docker容器是从Docker镜像构建的。默认情况下，Docker从<a target="_blank" rel="noopener" href="https://hub.docker.com/">Docker Hub</a>中提取这些镜像，这是一个由Docker管理的Docker镜像市场，这是Docker项目背后的公司。任何人都可以在Docker Hub上托管他们的Docker镜像，所以您只需要将您的应用程序和Linux放在那边托管即可。</p>
<p>要检查您是否可以从Docker Hub访问和下载镜像，请输入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure>

<p>输出下面的内容则Docker正常工作：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Unable to find image <span class="string">&#x27;hello-world:latest&#x27;</span> locally</span><br><span class="line"><span class="attr">latest</span>: Pulling <span class="keyword">from</span> library/hello-world</span><br><span class="line">9bb5a5d4561a: Pull complete</span><br><span class="line"><span class="attr">Digest</span>: sha256:3e1764d0f546ceac4565547df2ac4907fe46f007ea229fd7ef2718514bcec35d</span><br><span class="line"><span class="attr">Status</span>: Downloaded newer image <span class="keyword">for</span> hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello <span class="keyword">from</span> Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Docker最初无法在本地找到<code>hello-world</code>镜像，因此它从Docker Hub下载了镜像，Docker Hub是默认存储库。下载映像后，Docker从映像创建了一个容器，并在容器中执行了应用程序，显示了该消息。</p>
<p>您可以使用<code>docker</code>带子命令的<code>search</code>命令搜索Docker Hub上可用的镜像。例如，要搜索Ubuntu映像，请输入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search ubuntu</span><br></pre></td></tr></table></figure>

<p>该脚本将对Docker Hub进行抓取，并返回名称与搜索字符串匹配的所有镜像的列表。输出将类似于：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">NAME                                                      DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</span><br><span class="line">ubuntu                                                    Ubuntu is a Debian-based Linux operating sys…   <span class="number">7917</span>                [OK]</span><br><span class="line">dorowu/ubuntu-desktop-lxde-vnc                            Ubuntu <span class="keyword">with</span> openssh-server and NoVNC            <span class="number">193</span>                                     [OK]</span><br><span class="line">rastasheep/ubuntu-sshd                                    Dockerized SSH service, built on top <span class="keyword">of</span> offi…   <span class="number">156</span>                                     [OK]</span><br><span class="line">ansible/ubuntu14<span class="number">.04</span>-ansible                               Ubuntu <span class="number">14.04</span> LTS <span class="keyword">with</span> ansible                   <span class="number">93</span>                                      [OK]</span><br><span class="line">ubuntu-upstart                                            Upstart is an event-based replacement <span class="keyword">for</span> th…   <span class="number">87</span>                  [OK]</span><br><span class="line">neurodebian                                               NeuroDebian provides neuroscience research s…   <span class="number">50</span>                  [OK]</span><br><span class="line">ubuntu-debootstrap                                        debootstrap --variant=minbase --components=m…   <span class="number">38</span>                  [OK]</span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-nginx-php-phpmyadmin-mysql-<span class="number">5</span>      ubuntu-<span class="number">16</span>-nginx-php-phpmyadmin-mysql-<span class="number">5</span>          <span class="number">36</span>                                      [OK]</span><br><span class="line">nuagebec/ubuntu                                           Simple always updated Ubuntu docker images w…   <span class="number">23</span>                                      [OK]</span><br><span class="line">tutum/ubuntu                                              Simple Ubuntu docker images <span class="keyword">with</span> SSH access     <span class="number">18</span></span><br><span class="line">i386/ubuntu                                               Ubuntu is a Debian-based Linux operating sys…   <span class="number">13</span></span><br><span class="line">ppc64le/ubuntu                                            Ubuntu is a Debian-based Linux operating sys…   <span class="number">12</span></span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-apache-php-<span class="number">7.0</span>                    ubuntu-<span class="number">16</span>-apache-php-<span class="number">7.0</span>                        <span class="number">10</span>                                      [OK]</span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-nginx-php-phpmyadmin-mariadb-<span class="number">10</span>   ubuntu-<span class="number">16</span>-nginx-php-phpmyadmin-mariadb-<span class="number">10</span>       <span class="number">6</span>                                       [OK]</span><br><span class="line">eclipse/ubuntu_jdk8                                       Ubuntu, JDK8, Maven <span class="number">3</span>, git, curl, nmap, mc, …   <span class="number">6</span>                                       [OK]</span><br><span class="line">codenvy/ubuntu_jdk8                                       Ubuntu, JDK8, Maven <span class="number">3</span>, git, curl, nmap, mc, …   <span class="number">4</span>                                       [OK]</span><br><span class="line">darksheer/ubuntu                                          Base Ubuntu Image -- Updated hourly             <span class="number">4</span>                                       [OK]</span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-apache                            ubuntu-<span class="number">16</span>-apache                                <span class="number">3</span>                                       [OK]</span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-nginx-php-<span class="number">5.6</span>-wordpress-<span class="number">4</span>         ubuntu-<span class="number">16</span>-nginx-php-<span class="number">5.6</span>-wordpress-<span class="number">4</span>             <span class="number">3</span>                                       [OK]</span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-sshd                              ubuntu-<span class="number">16</span>-sshd                                  <span class="number">1</span>                                       [OK]</span><br><span class="line">pivotaldata/ubuntu                                        A quick freshening-up <span class="keyword">of</span> the base Ubuntu doc…   <span class="number">1</span></span><br><span class="line">1and1internet/ubuntu-<span class="number">16</span>-healthcheck                       ubuntu-<span class="number">16</span>-healthcheck                           <span class="number">0</span>                                       [OK]</span><br><span class="line">pivotaldata/ubuntu-gpdb-dev                               Ubuntu images <span class="keyword">for</span> GPDB development              <span class="number">0</span></span><br><span class="line">smartentry/ubuntu                                         ubuntu <span class="keyword">with</span> smartentry                          <span class="number">0</span>                                       [OK]</span><br><span class="line">ossobv/ubuntu</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>在<strong>OFFICIAL</strong>列中，带<strong>OK</strong>标记的表明这个镜像由公司构建和支持。其他镜像则由个人创建。确定要使用的映像后，可以使用命令<code>pull</code>将其下载到计算机。</p>
<p>执行以下<code>ubuntu</code>命令将官方映像下载到您的计算机：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull ubuntu</span><br></pre></td></tr></table></figure>

<p>您将看到以下输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Using <span class="keyword">default</span> tag: latest</span><br><span class="line"><span class="attr">latest</span>: Pulling <span class="keyword">from</span> library/ubuntu</span><br><span class="line">6b98dfc16071: Pull complete</span><br><span class="line">4001a1209541: Pull complete</span><br><span class="line">6319fc68c576: Pull complete</span><br><span class="line"><span class="attr">b24603670dc3</span>: Pull complete</span><br><span class="line">97f170c87c6f: Pull complete</span><br><span class="line"><span class="attr">Digest</span>: sha256:5f4bdc3467537cbbe563e80db2c3ec95d548a9145d64453b06939c4592d67b6d</span><br><span class="line"><span class="attr">Status</span>: Downloaded newer image <span class="keyword">for</span> ubuntu:latest</span><br></pre></td></tr></table></figure>

<p>下载映像后，可以使用子命令<code>run</code>运行容器。正如示例中那样，如果在使用子命令docker执行时未下载<code>hello-world</code>镜像，则Docker客户端将首先下载镜像，然后使用<code>run</code>运行容器。</p>
<p>要查看已下载到计算机的镜像，请输入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<p>输出类似于以下内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">ubuntu              latest              113a43faa138        <span class="number">4</span> weeks ago         <span class="number">81.</span>2MB</span><br><span class="line">hello-world         latest              e38bc07ac18e        <span class="number">2</span> months ago        <span class="number">1.</span>85kB</span><br></pre></td></tr></table></figure>

<p>正如您将在本教程后面看到的那样，用于运行容器的镜像可以被修改并用于生成新镜像，然后可以将其上传到Docker Hub或其他Docker镜像托管网站。</p>
<p>我们来看看如何更详细地运行容器。</p>
<h2 id="第5步-运行Docker容器"><a href="#第5步-运行Docker容器" class="headerlink" title="第5步 - 运行Docker容器"></a><strong>第5步 - 运行Docker容器</strong></h2><p>在您在上一步中<code>hello-world</code>容器是运行并发出一个测试消息之后退出容器。容器可以比这更有用，它们可以是交互式的。毕竟，它们类似于虚拟机，只是更加有利于资源。</p>
<p>举个例子，让我们使用Ubuntu的最新镜像运行一个容器。**-i<strong>和</strong>-t**子命令的意思为您提供了对容器的交互式shell访问：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it ubuntu</span><br></pre></td></tr></table></figure>

<p>现在，您应该已经进入docker内部，在这个环境下，您的shell展现如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@d9b100f2f636:/#</span><br></pre></td></tr></table></figure>

<p>请注命令提示符中的容器ID。在例子中它是<code>d9b100f2f636</code>，稍后您需要该容器ID以在要删除容器时标识容器。现在您可以在容器内运行任何命令。例如，让我们更新容器内的包数据库。您不需要<code>sudo</code>命令添加前缀，因为您以<strong>root</strong>用户身份在容器内操作：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure>

<p>然后在其中安装任何应用程序。我们安装Node.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install nodejs</span><br></pre></td></tr></table></figure>

<p>这将从官方Ubuntu存储库中安装容器中的Node.js. 安装完成后，验证是否已安装Node.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<p>您将看到终端中显示的版本号：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v8<span class="number">.10</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<p>您在容器内进行的任何更改仅适用于该容器。要退出容器，请输入<code>exit</code>退出。</p>
<p>让我们看看下一步管理我们系统上的容器。</p>
<h2 id="第6步-管理Docker容器"><a href="#第6步-管理Docker容器" class="headerlink" title="第6步 - 管理Docker容器"></a><strong>第6步 - 管理Docker容器</strong></h2><p>使用Docker一段时间后，您的计算机上将有许多运行和非运行容器。要查看<strong>运行的</strong>，请使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<p>您将看到类似于以下内容的输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             </span><br></pre></td></tr></table></figure>

<p>在本教程中，您启动了两个容器。一个来自<code>hello-world</code>镜像，另一个来自<code>ubuntu</code>镜像。两个容器都不再运行，但它们仍然存在于您的系统上。</p>
<p>要查看所有容器的运行状态，请使用<code>docker ps</code>命令加指令<code>-a</code>运行：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<p>您将看到类似于此的输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d9b100f2f636        ubuntu              <span class="string">&quot;/bin/bash&quot;</span>         About an hour ago   Exited (<span class="number">0</span>) <span class="number">8</span> minutes ago                           sharp_volhard</span><br><span class="line">01c950718166        hello-world         <span class="string">&quot;/hello&quot;</span>            About an hour ago   Exited (<span class="number">0</span>) About an hour ago                       festive_williams</span><br></pre></td></tr></table></figure>

<p>要查看您创建的最新容器，请使用<code>-l</code>命令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -l</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES</span><br><span class="line">d9b100f2f636        ubuntu              <span class="string">&quot;/bin/bash&quot;</span>         About an hour ago   Exited (<span class="number">0</span>) <span class="number">10</span> minutes ago                       sharp_volhard</span><br></pre></td></tr></table></figure>

<p>要启动已停止的容器，请使用<code>docker start</code>，后跟容器ID<code>d9b100f2f636</code>。让我们启动基于Ubuntu的容器，命令如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start d9b100f2f636</span><br></pre></td></tr></table></figure>

<p>容器将启动，您可以使用docker ps来查看其状态：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">d9b100f2f636        ubuntu              <span class="string">&quot;/bin/bash&quot;</span>         About an hour ago   Up <span class="number">8</span> seconds                            sharp_volhard</span><br></pre></td></tr></table></figure>

<p>要停止正在运行的容器，请使用<code>docker stop</code>，后跟容器ID或名称<code>sharp_volhard</code>。这次，我们将使用Docker分配容器的名称，即：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop sharp_volhard</span><br></pre></td></tr></table></figure>

<p>一旦您决定不再需要容器，请使用<code>docker rm</code>命令将其删除。使用该<code>docker ps -a</code>命令查找与映像<code>hello-world</code>关联的容器的容器，然后将其删除。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm festive_williams</span><br></pre></td></tr></table></figure>

<p>您可以使用开关启动一个新容器并为其命名–name。您还可以使用该开关创建一个在停止时自行删除的容器–rm。有关这些选项和其他选项的更多信息，请参阅<code>docker run help</code>命令。</p>
<p>容器可以转换为可用于构建新容器的映像。让我们来看看它是如何工作的。</p>
<h2 id="步骤7-将容器中的更改提交到Docker镜像"><a href="#步骤7-将容器中的更改提交到Docker镜像" class="headerlink" title="步骤7 - 将容器中的更改提交到Docker镜像"></a><strong>步骤7 - 将容器中的更改提交到Docker镜像</strong></h2><p>当您启动Docker镜像时，您可以像使用虚拟机一样创建，修改和删除文件。您所做的更改仅适用于该容器。您可以启动和停止它，但是一旦使用<code>docker rm</code>命令销毁它，更改将永久丢失。本节介绍如何将容器的状态保存为新的Docker镜像。</p>
<p>在Ubuntu容器中安装Node.js后，您现在有一个运行镜像的容器，但容器与您用来创建它的镜像不同。但是您可能希望稍后重新使用此容器作为新映像。</p>
<p>然后使用以下命令将更改提交到新的Docker镜像实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit -m <span class="string">&quot;What you did to the image&quot;</span> -a <span class="string">&quot;Author Name&quot;</span> container_id repository/new_image_name</span><br></pre></td></tr></table></figure>

<p>该**-m<strong>是提交信息，可以帮助你和其他人知道你所做的修改，而</strong>-a**用于指定作者。当您启动交互式Docker会话时，这是您在本教程前面提到的那个<code>container_id</code>。除非您在Docker Hub上创建了其他repository存储库，否则通常是您的Docker Hub用户名。</p>
<p>例如，对于用户<strong>sammy</strong>，使用容器ID：d9b100f2f636 ，命令将是：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit -m <span class="string">&quot;added Node.js&quot;</span> -a <span class="string">&quot;sammy&quot;</span> d9b100f2f636 sammy/ubuntu-nodejs</span><br></pre></td></tr></table></figure>

<p>当你提交镜像后，新的镜像在您的计算机上本地保存。在本教程的后面，您将学习如何将映像推送到<code>Docker Hub</code>之类的Docker镜像市场，以便其他人可以访问它。</p>
<p>再次列出Docker镜像将显示旧镜像以及从中衍生的新镜像：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<p>你会看到这样的输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">sammy/ubuntu-nodejs   latest              7c1f35226ca6        <span class="number">7</span> seconds ago       179MB</span><br><span class="line">ubuntu                   latest              113a43faa138        <span class="number">4</span> weeks ago         <span class="number">81.</span>2MB</span><br><span class="line">hello-world              latest              e38bc07ac18e        <span class="number">2</span> months ago        <span class="number">1.</span>85kB</span><br></pre></td></tr></table></figure>

<p>在此示例中，是新镜像<code>ubuntu-nodejs</code>，它是从Docker Hub的<code>ubuntu</code>现有镜像衍生的。镜像大小差异反映了所做的变化。因此，下次需要使用预先安装了NodeJS的Ubuntu运行容器时，您可以使用新映像<code>ubuntu-nodejs</code>。</p>
<p>您还可以从<code>Dockerfile</code>构建映像，这样可以在新映像中自动安装软件。但是，这超出了本教程的范围。</p>
<p>现在让我们与他人分享新镜像，以便他们可以从中创建容器。</p>
<h2 id="步骤8-将Docker镜像推送到Docker存储库"><a href="#步骤8-将Docker镜像推送到Docker存储库" class="headerlink" title="步骤8 - 将Docker镜像推送到Docker存储库"></a><strong>步骤8 - 将Docker镜像推送到Docker存储库</strong></h2><p>从现有映像创建新映像之后的下一个步骤是与您几个朋友分享，Docker Hub上的镜像全世界都可以访问，不过你先要安装注册Docker Hub地址才行。</p>
<p>本节介绍如何将Docker镜像推送到Docker Hub，要推送镜像，请先登录Docker Hub。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker login -u docker-registry-username</span><br></pre></td></tr></table></figure>

<p>系统将提示您使用Docker Hub密码进行身份验证。然后你可以使用以下方法推送自己的镜像</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push docker-registry-username/docker-image-name</span><br></pre></td></tr></table></figure>

<p>要将<code>ubuntu-nodejs</code>镜像推送到<strong>sammy</strong>存储库，命令是：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push sammy/ubuntu-nodejs</span><br></pre></td></tr></table></figure>

<p>上传镜像时，该过程可能需要一些时间才能完成，完成后，输出将如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">The push refers to a repository [docker.io/sammy/ubuntu-nodejs]</span><br><span class="line"><span class="attr">e3fbbfb44187</span>: Pushed</span><br><span class="line">5f70bf18a086: Pushed</span><br><span class="line"><span class="attr">a3b5c80a4eba</span>: Pushed</span><br><span class="line">7f18b442972b: Pushed</span><br><span class="line">3ce512daaf78: Pushed</span><br><span class="line">7aae4540b42d: Pushed</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>将镜像推送到注册表后，它应该列在您帐户的控制台上，如下图所示。</p>
<p><img src="/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/1620.png" alt="img"></p>
<p>如果推送尝试导致此类错误，那么您可能没有登录：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The push refers to a repository [docker.io/sammy/ubuntu-nodejs]</span><br><span class="line"><span class="attr">e3fbbfb44187</span>: Preparing</span><br><span class="line">5f70bf18a086: Preparing</span><br><span class="line"><span class="attr">a3b5c80a4eba</span>: Preparing</span><br><span class="line">7f18b442972b: Preparing</span><br><span class="line">3ce512daaf78: Preparing</span><br><span class="line">7aae4540b42d: Waiting</span><br><span class="line"><span class="attr">unauthorized</span>: authentication required</span><br></pre></td></tr></table></figure>

<p>登录docker login并尝试重复推送。然后验证是否存在于Docker Hub存储库页面上。</p>
<p>您现在可以使用<code>docker pull sammy/ubuntu-node&lt;^&gt;</code>将镜像拉取到新计算机并使用它来运行新容器。</p>
<h2 id="docker的基本命令"><a href="#docker的基本命令" class="headerlink" title="docker的基本命令"></a><strong>docker的基本命令</strong></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 启动docker</span></span><br><span class="line">sudo service docker start</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 停止docker</span></span><br><span class="line">sudo service docker stop</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启docker</span></span><br><span class="line">sudo service docker restart</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出镜像</span></span><br><span class="line">docker image ls</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 拉取镜像</span></span><br><span class="line">docker image pull library/hello-world</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除镜像</span></span><br><span class="line">docker image rm 镜像id/镜像ID</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建容器</span></span><br><span class="line">docker run [选项参数] 镜像名 [命令]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 停止一个已经在运行的容器</span></span><br><span class="line">docker container stop 容器名或容器id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动一个已经停止的容器</span></span><br><span class="line">docker container start 容器名或容器id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">kill</span>掉一个已经在运行的容器</span></span><br><span class="line">docker container kill 容器名或容器id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除容器</span></span><br><span class="line">docker container rm 容器名或容器id</span><br></pre></td></tr></table></figure>



<p><strong>校赛复现示例</strong>：</p>
<p>在第五步完成后操作如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker.io</span><br><span class="line">sudo apt install docker-compose</span><br></pre></td></tr></table></figure>

<img src="/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/image-20220110231817050.png" alt="image-20220110231817050" style="zoom:33%;">

<p>打开其中的web在虚拟机里创建一个文件夹，把这些文件放进去。<img src="/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/image-20220110232241002.png" alt="image-20220110232241002" style="zoom:33%;"></p>
<p>打开yml文件，把容器名字改一下，把80：80改成10001：80</p>
<p>在这个页面打开终端</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service docker start</span><br><span class="line">sudo docker-compose up -d</span><br><span class="line">docker ps</span><br><span class="line">ifconfig</span><br></pre></td></tr></table></figure>

<img src="/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/image-20220111223510229.png" alt="image-20220111223510229" style="zoom:25%;">

<p>之后访问：</p>
<p>类似<img src="/2022/01/07/Ubuntu-Docker%E5%AE%89%E8%A3%85/image-20220111141906536.png" alt="image-20220111141906536" style="zoom:33%;">这个地址+ <code>：10001（根据题目更改）</code></p>
<p>: )</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/docker/">docker</a></div><div class="post_share"><div class="social-share" data-image="/img/4.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/06/%E5%88%A9%E7%94%A8hexo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"><img class="prev-cover" src="/img/1.jpg" onerror="onerror=null;src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">利用hexo+github搭建博客</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/11/%E5%85%B3%E4%BA%8ESSRF/"><img class="next-cover" src="/img/3.jpg" onerror="onerror=null;src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">关于SSRF</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/003.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">b0ysen</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/b0ysen.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/b0ysen.github.io" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1191281359@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">保持理智，相信明天<div class="twopeople"><div class="twopeople"> <div class="container" style="height:200px;"> <canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas> </div> <script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js"></script> <script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js"></script> <script id="rendered-js" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js"></script> <style> .twopeople{ margin: 0; align-items: center; justify-content: center; text-align: center; } canvas { display: block; margin: 0 auto; cursor: move; } </style> </div></div></div><div class="timing"></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC1%E6%AD%A5-%E5%AE%89%E8%A3%85Docker"><span class="toc-number">1.</span> <span class="toc-text">第1步 - 安装Docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC2%E6%AD%A5-%E5%9C%A8%E4%B8%8D%E8%BE%93%E5%85%A5Sudo%E6%83%85%E5%86%B5%E4%B8%8B%E6%89%A7%E8%A1%8CDocker%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">第2步 - 在不输入Sudo情况下执行Docker（可选）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC3%E6%AD%A5-%E4%BD%BF%E7%94%A8Docker%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">第3步 - 使用Docker命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC4%E6%AD%A5-%E4%BD%BF%E7%94%A8Docker%E9%95%9C%E5%83%8F"><span class="toc-number">4.</span> <span class="toc-text">第4步 - 使用Docker镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC5%E6%AD%A5-%E8%BF%90%E8%A1%8CDocker%E5%AE%B9%E5%99%A8"><span class="toc-number">5.</span> <span class="toc-text">第5步 - 运行Docker容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC6%E6%AD%A5-%E7%AE%A1%E7%90%86Docker%E5%AE%B9%E5%99%A8"><span class="toc-number">6.</span> <span class="toc-text">第6步 - 管理Docker容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A47-%E5%B0%86%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84%E6%9B%B4%E6%94%B9%E6%8F%90%E4%BA%A4%E5%88%B0Docker%E9%95%9C%E5%83%8F"><span class="toc-number">7.</span> <span class="toc-text">步骤7 - 将容器中的更改提交到Docker镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A48-%E5%B0%86Docker%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0Docker%E5%AD%98%E5%82%A8%E5%BA%93"><span class="toc-number">8.</span> <span class="toc-text">步骤8 - 将Docker镜像推送到Docker存储库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">9.</span> <span class="toc-text">docker的基本命令</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/05/12/IDA%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="IDA基本用法"><img src="/img/14.jpg" onerror="this.onerror=null;this.src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="IDA基本用法"/></a><div class="content"><a class="title" href="/2022/05/12/IDA%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="IDA基本用法">IDA基本用法</a><time datetime="2022-05-12T11:03:27.000Z" title="发表于 2022-05-12 19:03:27">2022-05-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/26/BUUCTF-PWN%E3%80%90%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95%E7%AF%87%E3%80%91/" title="BUUCTF PWN【刷题记录篇】"><img src="/img/13.jpg" onerror="this.onerror=null;this.src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="BUUCTF PWN【刷题记录篇】"/></a><div class="content"><a class="title" href="/2022/04/26/BUUCTF-PWN%E3%80%90%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95%E7%AF%87%E3%80%91/" title="BUUCTF PWN【刷题记录篇】">BUUCTF PWN【刷题记录篇】</a><time datetime="2022-04-26T02:56:47.000Z" title="发表于 2022-04-26 10:56:47">2022-04-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/DEFCON-2015-r0pbaby/" title="DEFCON-2015-r0pbaby"><img src="/img/20.jpg" onerror="this.onerror=null;this.src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="DEFCON-2015-r0pbaby"/></a><div class="content"><a class="title" href="/2022/04/18/DEFCON-2015-r0pbaby/" title="DEFCON-2015-r0pbaby">DEFCON-2015-r0pbaby</a><time datetime="2022-04-18T05:32:08.000Z" title="发表于 2022-04-18 13:32:08">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/08/python%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0/" title="python爬虫学习"><img src="/img/19.jpg" onerror="this.onerror=null;this.src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="python爬虫学习"/></a><div class="content"><a class="title" href="/2022/04/08/python%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0/" title="python爬虫学习">python爬虫学习</a><time datetime="2022-04-08T07:01:27.000Z" title="发表于 2022-04-08 15:01:27">2022-04-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/06/%E6%B5%85%E5%AD%A6pwn%E7%9A%84%E7%AC%94%E8%AE%B0/" title="浅学pwn的笔记"><img src="/img/12.jpg" onerror="this.onerror=null;this.src='https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg'" alt="浅学pwn的笔记"/></a><div class="content"><a class="title" href="/2022/04/06/%E6%B5%85%E5%AD%A6pwn%E7%9A%84%E7%AC%94%E8%AE%B0/" title="浅学pwn的笔记">浅学pwn的笔记</a><time datetime="2022-04-06T11:50:23.000Z" title="发表于 2022-04-06 19:50:23">2022-04-06</time></div></div></div></div><div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden;"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%;"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/4.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By b0ysen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://b0ysen.github.io/">blog</a>!</div></div><div class="container" id="jsi-flying-fish-container"><script src="js/fish.js"></script></div><style>   @media only screen and (max-width: 767px){
   #sidebar_search_box input[type=text]{width:calc(100% - 24px)}
}</style></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><scipt src="/js/custom.js"></script><script src="https://cdn.jsdelivr.net/gh/xiabo2/CDN@latest/fish.js"></script><script src="/js/timing.js"></script><script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="pjax-reload"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '600ms');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInRightBig');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer="defer" src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script><script defer="defer" src="/js/wow_init.js"></script></div><script type="text/javascript" src="js/crash_cheat.js"></script><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="/img/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://unpkg.zhimg.com/hexo-butterfly-clock/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>